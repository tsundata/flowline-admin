"use strict";(self.webpackChunkflowline_admin=self.webpackChunkflowline_admin||[]).push([[899],{62266:function(X,$,t){var Z=t(97983),w=t.n(Z),N=t(40794),R=t.n(N),V=t(80242),D=t(20397),x=t(36275),H=t(20550),C=t(67294),g=t(85893),v=function(B){var F=(0,C.useRef)();C.useEffect(function(){var T;(T=F.current)===null||T===void 0||T.reload()},[B.uid]);var Q=[{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.common.uid",defaultMessage:"UID"}),dataIndex:"uid",tip:"The uid is the unique key"},{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.eventList.name",defaultMessage:"Event name"}),dataIndex:"name"},{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.common.state",defaultMessage:"Type"}),dataIndex:"type",renderText:function(b){return(0,g.jsx)(H.Z,{color:b=="Warning"?"orange":"blue",children:b})}},{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.eventList.reason",defaultMessage:"Reason"}),dataIndex:"reason"},{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.eventList.message",defaultMessage:"Message"}),dataIndex:"message"},{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.eventList.count",defaultMessage:"Count"}),dataIndex:"count"},{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.eventList.source",defaultMessage:"Source"}),dataIndex:"source",renderText:function(b){return"".concat(b.component?b.component:""," ").concat(b.host?b.host:"")}},{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.eventList.firstTimestamp",defaultMessage:"First time"}),dataIndex:"firstTimestamp",valueType:"dateTime"},{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.eventList.lastTimestamp",defaultMessage:"Last time"}),dataIndex:"lastTimestamp",valueType:"dateTime"},{title:(0,g.jsx)(x.FormattedMessage,{id:"pages.eventList.eventTime",defaultMessage:"Event time"}),dataIndex:"eventTime",valueType:"dateTime"}];return(0,g.jsx)(D.Z,{rowKey:"uid",search:!1,actionRef:F,request:R()(w()().mark(function T(){var b;return w()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,V.A3)({uid:B.uid});case 2:return b=I.sent,I.abrupt("return",{data:b.items,success:!0});case 4:case"end":return I.stop()}},T)})),columns:Q})};$.Z=v},87878:function(X,$,t){t.r($),t.d($,{default:function(){return he}});var Z=t(97983),w=t.n(Z),N=t(40794),R=t.n(N),V=t(12741),D=t.n(V),x=t(62266),H=t(97548),C=t(11281),g=t.n(C),v=t(36275),J=null,B=null,F=null,Q=null,T=null,b=null,k=null;function I(n,r){return S.apply(this,arguments)}function S(){return S=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,l){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/apps/v1/stage",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},l||{})));case 1:case"end":return i.stop()}},n)})),S.apply(this,arguments)}function ue(n,r){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,l){var s,i;return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return s=r.uid,i=_objectWithoutProperties(r,J),m.abrupt("return",request("/api/apps/v1/stage/".concat(s),_objectSpread({method:"GET",params:_objectSpread({},i)},l||{})));case 2:case"end":return m.stop()}},n)})),W.apply(this,arguments)}function ie(n,r,l){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,l,s){var i,f;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=r.uid,f=_objectWithoutProperties(r,B),c.abrupt("return",request("/api/apps/v1/stage/".concat(i),_objectSpread({method:"PUT",headers:{"Content-Type":"application/json"},params:_objectSpread({},f),data:l},s||{})));case 2:case"end":return c.stop()}},n)})),O.apply(this,arguments)}function oe(n,r){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,l){var s,i;return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return s=r.uid,i=_objectWithoutProperties(r,F),m.abrupt("return",request("/api/apps/v1/stage/".concat(s),_objectSpread({method:"DELETE",params:_objectSpread({},i)},l||{})));case 2:case"end":return m.stop()}},n)})),U.apply(this,arguments)}function q(n,r,l){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,l,s){var i,f;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=r.uid,f=_objectWithoutProperties(r,Q),c.abrupt("return",request("/api/apps/v1/stage/".concat(i),_objectSpread({method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},params:_objectSpread({},f),data:l},s||{})));case 2:case"end":return c.stop()}},n)})),G.apply(this,arguments)}function ee(n,r,l){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,l,s){var i,f;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=r.uid,f=_objectWithoutProperties(r,T),c.abrupt("return",request("/api/apps/v1/stage/".concat(i,"/binding"),_objectSpread({method:"PUT",headers:{"Content-Type":"application/json"},params:_objectSpread({},f),data:l},s||{})));case 2:case"end":return c.stop()}},n)})),A.apply(this,arguments)}function de(n,r,l){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,l,s){var i,f;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=r.uid,f=_objectWithoutProperties(r,b),c.abrupt("return",request("/api/apps/v1/stage/".concat(i,"/list"),_objectSpread({method:"PUT",headers:{"Content-Type":"application/json"},params:_objectSpread({},f),data:l},s||{})));case 2:case"end":return c.stop()}},n)})),K.apply(this,arguments)}function o(n,r){return a.apply(this,arguments)}function a(){return a=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,l){var s,i;return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return s=r.uid,i=_objectWithoutProperties(r,k),m.abrupt("return",request("/api/apps/v1/stage/".concat(s,"/watch"),_objectSpread({method:"GET",params:_objectSpread({},i)},l||{})));case 2:case"end":return m.stop()}},n)})),a.apply(this,arguments)}function _(n){return u.apply(this,arguments)}function u(){return u=R()(w()().mark(function n(r){return w()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.request)("/api/apps/v1/stage/list",g()({method:"GET"},r||{})));case 1:case"end":return s.stop()}},n)})),u.apply(this,arguments)}function d(n){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function n(r){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("/api/apps/v1/stage/watch",_objectSpread({method:"GET"},r||{})));case 1:case"end":return s.stop()}},n)})),y.apply(this,arguments)}var h=t(52077),E=t(20397),le=t(7338),ce=t(20550),pe=t(63463),me=t(85402),Y=t(67294),te={table:"table___r2LsU"},e=t(85893),_e=function(){var r=(0,Y.useState)(!1),l=D()(r,2),s=l[0],i=l[1],f=(0,Y.useRef)(),m=(0,Y.useState)(),c=D()(m,2),j=c[0],z=c[1],ge=(0,Y.useState)(!1),re=D()(ge,2),ve=re[0],ae=re[1],fe=function(){ae(!0)},ne=function(){z(void 0),ae(!1)},je=(0,v.useIntl)(),se=[{title:(0,e.jsx)(v.FormattedMessage,{id:"pages.common.uid",defaultMessage:"UID"}),dataIndex:"uid",tip:"The uid is the unique key",render:function(M,p){return(0,e.jsx)("a",{onClick:function(){z(p),i(!0)},children:M})}},{title:(0,e.jsx)(v.FormattedMessage,{id:"pages.stageList.name",defaultMessage:"Stage name"}),dataIndex:"name"},{title:(0,e.jsx)(v.FormattedMessage,{id:"pages.stageList.uids",defaultMessage:"UIDs"}),width:500,render:function(M,p){return(0,e.jsx)("table",{className:te.table,children:(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"WorkerUID"}),(0,e.jsx)("td",{children:p.workerUID})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"WorkflowUID"}),(0,e.jsx)("td",{children:p.workflowUID})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"JobUID"}),(0,e.jsx)("td",{children:p.jobUID})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"DagUID"}),(0,e.jsx)("td",{children:p.dagUID})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"NodeID"}),(0,e.jsx)("td",{children:p.nodeID})]})]})})}},{title:(0,e.jsx)(v.FormattedMessage,{id:"pages.common.state",defaultMessage:"State"}),dataIndex:"state",renderText:function(M){return(0,e.jsx)(ce.Z,{color:M=="failed"?"orange":M=="success"?"green":"blue",children:M})}},{title:(0,e.jsx)(v.FormattedMessage,{id:"pages.stageList.code",defaultMessage:"Code"}),width:500,render:function(M,p){return(0,e.jsx)("table",{className:te.table,children:(0,e.jsxs)("tbody",{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"Runtime"}),(0,e.jsx)("td",{children:p.runtime})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"CodeUID"}),(0,e.jsx)("td",{children:p.code})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"Connections"}),(0,e.jsx)("td",{children:p.connections})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"Variables"}),(0,e.jsx)("td",{children:p.variables})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"Input"}),(0,e.jsx)("td",{children:p.input})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"Output"}),(0,e.jsx)("td",{children:p.output})]})]})})}},{title:(0,e.jsx)(v.FormattedMessage,{id:"pages.stageList.dependNodeId",defaultMessage:"Depend NodeId"}),dataIndex:"dependNodeId"},{title:(0,e.jsx)(v.FormattedMessage,{id:"pages.common.creationTimestamp",defaultMessage:"Created time"}),sorter:!0,dataIndex:"creationTimestamp",valueType:"dateTime"},{title:(0,e.jsx)(v.FormattedMessage,{id:"pages.common.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",width:100,render:function(M,p){return[(0,e.jsx)("a",{onClick:function(){z(p),fe()},children:(0,e.jsx)(v.FormattedMessage,{id:"pages.common.events",defaultMessage:"Events"})},"events")]}}];return(0,e.jsxs)(h.ZP,{children:[(0,e.jsx)(E.Z,{headerTitle:je.formatMessage({id:"pages.common.tableTitle",defaultMessage:"Enquiry form"}),actionRef:f,rowKey:"uid",search:{labelWidth:120},request:R()(w()().mark(function P(){var M;return w()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,_();case 2:return M=L.sent,L.abrupt("return",{data:M.items,success:!0});case 4:case"end":return L.stop()}},P)})),columns:se}),(0,e.jsx)(pe.Z,{width:600,open:s,onClose:function(){z(void 0),i(!1)},closable:!1,children:(j==null?void 0:j.uid)&&(0,e.jsx)(le.vY,{column:2,title:j==null?void 0:j.uid,request:R()(w()().mark(function P(){return w()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",{data:j||{}});case 1:case"end":return p.stop()}},P)})),params:{id:j==null?void 0:j.uid},columns:se})}),(0,e.jsx)(me.Z,{title:(0,e.jsx)(v.FormattedMessage,{id:"pages.common.events",defaultMessage:"Events"}),width:1500,open:ve,onOk:ne,onCancel:ne,children:(j==null?void 0:j.uid)&&(0,e.jsx)(x.Z,{uid:j==null?void 0:j.uid})})]})},he=_e},80242:function(X,$,t){t.d($,{A3:function(){return ee},oQ:function(){return q}});var Z=t(97548),w=t.n(Z),N=t(97983),R=t.n(N),V=t(11281),D=t.n(V),x=t(40794),H=t.n(x),C=t(36275),g=null,v=null,J=null,B=null,F=null;function Q(o,a){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function o(a,_){return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",request("/api/apps/v1/event",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},_||{})));case 1:case"end":return d.stop()}},o)})),T.apply(this,arguments)}function b(o,a){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function o(a,_){var u,d;return _regeneratorRuntime().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return u=a.uid,d=_objectWithoutProperties(a,g),h.abrupt("return",request("/api/apps/v1/event/".concat(u),_objectSpread({method:"GET",params:_objectSpread({},d)},_||{})));case 2:case"end":return h.stop()}},o)})),k.apply(this,arguments)}function I(o,a,_){return S.apply(this,arguments)}function S(){return S=_asyncToGenerator(_regeneratorRuntime().mark(function o(a,_,u){var d,y;return _regeneratorRuntime().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return d=a.uid,y=_objectWithoutProperties(a,v),E.abrupt("return",request("/api/apps/v1/event/".concat(d),_objectSpread({method:"PUT",headers:{"Content-Type":"application/json"},params:_objectSpread({},y),data:_},u||{})));case 2:case"end":return E.stop()}},o)})),S.apply(this,arguments)}function ue(o,a){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function o(a,_){var u,d;return _regeneratorRuntime().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return u=a.uid,d=_objectWithoutProperties(a,J),h.abrupt("return",request("/api/apps/v1/event/".concat(u),_objectSpread({method:"DELETE",params:_objectSpread({},d)},_||{})));case 2:case"end":return h.stop()}},o)})),W.apply(this,arguments)}function ie(o,a,_){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function o(a,_,u){var d,y;return _regeneratorRuntime().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return d=a.uid,y=_objectWithoutProperties(a,B),E.abrupt("return",request("/api/apps/v1/event/".concat(d),_objectSpread({method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},params:_objectSpread({},y),data:_},u||{})));case 2:case"end":return E.stop()}},o)})),O.apply(this,arguments)}function oe(o,a){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function o(a,_){var u,d;return _regeneratorRuntime().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return u=a.uid,d=_objectWithoutProperties(a,F),h.abrupt("return",request("/api/apps/v1/event/".concat(u,"/watch"),_objectSpread({method:"GET",params:_objectSpread({},d)},_||{})));case 2:case"end":return h.stop()}},o)})),U.apply(this,arguments)}function q(o){return G.apply(this,arguments)}function G(){return G=H()(R()().mark(function o(a){return R()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,C.request)("/api/apps/v1/event/list",D()({method:"GET"},a||{})));case 1:case"end":return u.stop()}},o)})),G.apply(this,arguments)}function ee(o,a){return A.apply(this,arguments)}function A(){return A=H()(R()().mark(function o(a,_){return R()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,C.request)("/api/apps/v1/event/list/kind",D()({method:"GET",params:D()({},a)},_||{})));case 1:case"end":return d.stop()}},o)})),A.apply(this,arguments)}function de(o){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function o(a){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/apps/v1/event/watch",_objectSpread({method:"GET"},a||{})));case 1:case"end":return u.stop()}},o)})),K.apply(this,arguments)}}}]);
