"use strict";(self.webpackChunkflowline_admin=self.webpackChunkflowline_admin||[]).push([[375],{99021:function(Oe,le,u){u.r(le),u.d(le,{WorkflowDag:function(){return Je},default:function(){return Br}});var de=u(55559),g=u.n(de),pe=u(45223),e=u.n(pe),ne=u(67294),r=u(59070),me=u(25680),A=u.n(me),K=u(74411),x=u.n(K),te=u(51446),ue="DND_NDOE",he="GROUP_NODE_RENDER_ID",fe=180,ve=36,z=u(32779),Se=u(73218),X=u(15873),oe=u(57119),ee=u(68628),ie=u(73888),C=u(85893),Ee={fontSize:"16px",color:"#3057e3"},Y=function(a){if(a.hide)return null;switch(a.status){case r.yc.StatusEnum.PROCESSING:return(0,C.jsx)(z.Z,{spin:!0,style:{color:"#c1cdf7",fontSize:"16px"}});case r.yc.StatusEnum.ERROR:return(0,C.jsx)(Se.Z,{style:{color:"#ff4d4f",fontSize:"16px"}});case r.yc.StatusEnum.SUCCESS:return(0,C.jsx)(X.Z,{style:{color:"#39ca74cc",fontSize:"16px"}});case r.yc.StatusEnum.WARNING:return(0,C.jsx)(oe.Z,{style:{color:"#faad14",fontSize:"16px"}});case r.yc.StatusEnum.DEFAULT:return(0,C.jsx)(ee.Z,{style:{color:"#d9d9d9",fontSize:"16px"}});default:return null}},we=function(a){return(0,C.jsxs)("div",{className:"xflow-algo-node ".concat(a.isNodeTreePanel?"panel-node":""),children:[(0,C.jsx)("span",{className:"icon",children:(0,C.jsx)(ie.Z,{style:Ee})}),(0,C.jsx)("span",{className:"label",children:a.data.label}),(0,C.jsx)("span",{className:"status",children:(0,C.jsx)(Y,{status:a.data&&a.data.status,hide:a.isNodeTreePanel})})]})},re=u(18267),se=u(18095),Q=function(a){var t=a.cell,c=(0,r.XZ)(),n=a.data.isCollapsed||!1,i=function(){c.executeCommand(r.dV.COLLAPSE_GROUP.id,{nodeId:t.id,isCollapsed:!1,collapsedSize:{width:200,height:40}})},o=function(){c.executeCommand(r.dV.COLLAPSE_GROUP.id,{nodeId:t.id,isCollapsed:!0,collapsedSize:{width:200,height:40},gap:3})};return(0,C.jsx)("div",{className:"xflow-group-node",children:(0,C.jsxs)("div",{className:"xflow-group-header",children:[(0,C.jsx)("div",{className:"header-left",children:a.data.label}),(0,C.jsxs)("div",{className:"header-right",children:[n&&(0,C.jsx)(re.Z,{onClick:i}),!n&&(0,C.jsx)(se.Z,{onClick:o})]})]})})};function _e(l){return x()({id:(0,r.k$)(),type:r.Ak.AnchorType.INPUT,group:r.Ak.AnchorGroup.TOP,tooltip:"\u8F93\u5165\u6869"},l)}var J=(0,r.vD)(function(l,a){var t=a.getValue();console.log("get main props",t),l.setRegisterHook(function(c){var n=[c.reactNodeRender.registerHook({name:"add react node",handler:function(){var o=g()(e().mark(function v(s){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:s.set(ue,we),s.set(he,Q);case 2:case"end":return d.stop()}},v)}));function p(v){return o.apply(this,arguments)}return p}()}),c.graphOptions.registerHook({name:"custom-x6-options",after:"dag-extension-x6-options",handler:function(){var o=g()(e().mark(function v(s){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:s.grid=!1,s.keyboard={enabled:!0};case 2:case"end":return d.stop()}},v)}));function p(v){return o.apply(this,arguments)}return p}()}),c.x6Events.registerHook({name:"add",handler:function(){var o=g()(e().mark(function v(s){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:s.push({eventName:"node:moved",callback:function(h,k){var N=h.node;k.executeCommand(r.cE.MOVE_NODE.id,{id:N.id,position:N.getPosition()})}},{eventName:"edge:added",callback:function(h,k){var N=h.edge.getTargetNode(),D=te.QK.getByPath(h,"options.isCommand","."),_=te.QK.getByPath(h,"options.isRenderGraph",".");!D||_||N&&k.executeCommand(r.cE.UPDATE_NODE_PORT.id,{node:N,updatePorts:function(){var y=g()(e().mark(function P(B){return e().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",[].concat(A()(B),[_e({})]));case 1:case"end":return Z.stop()}},P)}));function R(P){return y.apply(this,arguments)}return R}()})}},{eventName:"edge:removed",callback:function(h,k){var N=h.edge.getTargetCellId(),D=h.edge.getTargetPortId(),_=te.QK.getByPath(h,"options.isCommand","."),y=te.QK.getByPath(h,"options.isRenderGraph",".");!_||y||k.executeCommand(r.cE.UPDATE_NODE_PORT.id,{node:N,updatePorts:function(){var R=g()(e().mark(function B(j){var Z,ye;return e().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return Z=j.filter(function(ke){return ke.id!==D}),ye=Z.filter(function(ke){return ke.type===r.Ak.AnchorType.INPUT}),ye.length===0&&Z.push(_e({})),ge.abrupt("return",Z);case 4:case"end":return ge.stop()}},B)}));function P(B){return R.apply(this,arguments)}return P}()})}});case 1:case"end":return d.stop()}},v)}));function p(v){return o.apply(this,arguments)}return p}()})],i=new r.K4;return i.pushAll(n),i})}),E=u(55042),f=u.n(E),T=u(6411),w=u.n(T),S=u(82675),$=u.n(S),O=u(42119),G=u.n(O),Ce=u(65327),L=u.n(Ce),M=u(19020),I;(function(l){var a="\u8282\u70B9\u64CD\u4F5C",t=l.TEST_ASYNC_CMD={id:"xflow:async-cmd",label:"\u5F02\u6B65\u8BF7\u6C42",category:a},c=l.SHOW_RENAME_MODAL={id:"xflow:rename-node-modal",label:"\u6253\u5F00\u91CD\u547D\u540D\u5F39\u7A97",category:a},n=l.DEPLOY_SERVICE={id:"xflow:deploy-service",label:"\u90E8\u7F72\u670D\u52A1",category:a}})(I||(I={}));var U,W,F,H,V,qe=r.Nf.inject,er=r.Nf.injectable,Ne;(function(l){var a=l.command=I.TEST_ASYNC_CMD,t=l.hookKey="testCmd"})(Ne||(Ne={}));var rr=(U=er(),W=qe(r.KV),U(F=(H=function(){function l(){var a=this;w()(this,l),f()(this,"contextProvider",V,this),G()(this,"execute",g()(e().mark(function t(){var c,n,i,o,p,v,s;return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return c=a.contextProvider(),n=c.getHooks(),i=c.getArgs(),o=i.args,p=i.hooks,d.next=5,c.getX6Graph();case 5:return v=d.sent,d.next=8,n.testCmd.call(o,function(){var b=g()(e().mark(function h(k){var N,D,_,y;return e().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return N=k.commandService,D=k.modelService,_=k.graphMeta,y=k.test,console.log(v,N,D,_,y),P.abrupt("return",{test:!0});case 3:case"end":return P.stop()}},h)}));return function(h){return b.apply(this,arguments)}}(),p);case 8:return s=d.sent,c.setResult(s),d.abrupt("return",a);case 11:case"end":return d.stop()}},t)}))),G()(this,"undo",g()(e().mark(function t(){var c;return e().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a.isUndoable()&&(c=a.contextProvider(),c.undo()),i.abrupt("return",a);case 2:case"end":return i.stop()}},t)}))),G()(this,"redo",g()(e().mark(function t(){return e().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a.isUndoable()){n.next=3;break}return n.next=3,a.execute();case 3:return n.abrupt("return",a);case 4:case"end":return n.stop()}},t)})))}return $()(l,[{key:"isUndoable",value:function(){var t=this.contextProvider();return t.isUndoable()}}]),l}(),V=L()(H.prototype,"contextProvider",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H))||F),Le,$e,Ue,Re,Ie,je;(function(l){var a=l.command=I.DEPLOY_SERVICE,t=l.hookKey="deployDag"})(je||(je={}));var ar=(Le=r.Nf.injectable(),$e=r.Nf.inject(r.KV),Le(Ue=(Re=function(){function l(){var a=this;w()(this,l),f()(this,"contextProvider",Ie,this),G()(this,"execute",g()(e().mark(function t(){var c,n,i,o,p;return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return c=a.contextProvider(),n=c.getArgs(),i=n.args,o=c.getHooks(),s.next=5,o.deployDag.call(i,function(){var m=g()(e().mark(function d(b){var h,k;return e().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return h=b.commandService,k=b.deployDagService,D.next=3,h.executeCommand(r.Gv.SAVE_GRAPH_DATA.id,{saveGraphDataService:function(){var _=g()(e().mark(function R(P,B){return e().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,k(P,B);case 2:case"end":return Z.stop()}},R)}));function y(R,P){return _.apply(this,arguments)}return y}()});case 3:return D.abrupt("return",{success:!0});case 4:case"end":return D.stop()}},d)}));return function(d){return m.apply(this,arguments)}}());case 5:return p=s.sent,c.setResult(p),s.abrupt("return",a);case 8:case"end":return s.stop()}},t)}))),G()(this,"undo",g()(e().mark(function t(){var c;return e().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a.isUndoable()&&(c=a.contextProvider(),c.undo()),i.abrupt("return",a);case 2:case"end":return i.stop()}},t)}))),G()(this,"redo",g()(e().mark(function t(){return e().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a.isUndoable()){n.next=3;break}return n.next=3,a.execute();case 3:return n.abrupt("return",a);case 4:case"end":return n.stop()}},t)})))}return $()(l,[{key:"isUndoable",value:function(){var t=this.contextProvider();return t.isUndoable()}}]),l}(),Ie=L()(Re.prototype,"contextProvider",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re))||Ue),nr=u(80164),Ge=u.n(nr),De=u(86835),tr=u(75901),We=u(4107),Be=u(50146),Kr=u(31302),He,Ke,Ve,Ae,Ze,Me;(function(l){var a=l.command=I.SHOW_RENAME_MODAL,t=l.hookKey="renameNode"})(Me||(Me={}));var ur=(He=r.Nf.injectable(),Ke=r.Nf.inject(r.KV),He(Ve=(Ae=function(){function l(){var a=this;w()(this,l),f()(this,"contextProvider",Ze,this),G()(this,"execute",g()(e().mark(function t(){var c,n,i,o,p;return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return c=a.contextProvider(),n=c.getArgs(),i=n.args,o=c.getHooks(),s.next=5,o.renameNode.call(i,function(){var m=g()(e().mark(function d(b){var h,k,N,D,_,y,R,P,B,j,Z;return e().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return h=b.nodeConfig,k=b.graphMeta,N=b.commandService,D=b.modelService,_=b.updateNodeNameService,y=h.label,R=function(){return{graphMeta:k,commandService:N,modelService:D,updateNodeNameService:_}},q.next=5,c.getX6Graph();case 5:if(P=q.sent,B=P.getCellById(h.id),!(!B||!B.isNode())){q.next=9;break}throw new Error("".concat(h.id," is not a valid node"));case 9:return q.next=11,sr(h,R);case 11:if(j=q.sent,!j){q.next=16;break}return Z=B.getData(),B.setData(x()(x()({},Z),{},{label:j})),q.abrupt("return",{err:null,preNodeName:y,currentNodeName:j});case 16:return q.abrupt("return",{err:null,preNodeName:y,currentNodeName:""});case 17:case"end":return q.stop()}},d)}));return function(d){return m.apply(this,arguments)}}());case 5:return p=s.sent,c.setResult(p),s.abrupt("return",a);case 8:case"end":return s.stop()}},t)}))),G()(this,"undo",g()(e().mark(function t(){var c;return e().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a.isUndoable()&&(c=a.contextProvider(),c.undo()),i.abrupt("return",a);case 2:case"end":return i.stop()}},t)}))),G()(this,"redo",g()(e().mark(function t(){return e().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a.isUndoable()){n.next=3;break}return n.next=3,a.execute();case 3:return n.abrupt("return",a);case 4:case"end":return n.stop()}},t)})))}return $()(l,[{key:"isUndoable",value:function(){var t=this.contextProvider();return t.isUndoable()}}]),l}(),Ze=L()(Ae.prototype,"contextProvider",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae))||Ve),or={labelCol:{span:5},wrapperCol:{span:19}},ir=function(){var a=document.createElement("div");return a.classList.add("xflow-modal-container"),window.document.body.append(a),{element:a,destroy:function(){window.document.body.removeChild(a)}}};function sr(l,a){var t=new r.BH,c=$()(function s(){w()(this,s)});G()(c,"modal",void 0),G()(c,"form",void 0);var n=function(){var m=De.Z.useForm(),d=Ge()(m,1),b=d[0];return c.form=b,(0,C.jsx)("div",{children:(0,C.jsx)(tr.ZP,{children:(0,C.jsx)(De.Z,x()(x()({form:b},or),{},{initialValues:{newNodeName:l.label},children:(0,C.jsx)(De.Z.Item,{name:"newNodeName",label:"\u8282\u70B9\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u8282\u70B9\u540D"},{min:3,message:"\u8282\u70B9\u540D\u4E0D\u80FD\u5C11\u4E8E3\u4E2A\u5B57\u7B26"}],children:(0,C.jsx)(We.Z,{})})}))})})},i=function(){v.destroy(),c.form=null,c.modal=null,p.destroy()},o=function(){var s=g()(e().mark(function m(){var d,b,h,k,N,D,_,y,R,P;return e().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return d=c.form,b=c.modal,h=a(),k=h.updateNodeNameService,N=h.graphMeta,j.prev=3,b.update({okButtonProps:{loading:!0}}),j.next=7,d.validateFields();case 7:return j.next=9,d.getFieldsValue();case 9:if(D=j.sent,_=D.newNodeName,!k){j.next=20;break}return j.next=14,k(_,l,N);case 14:if(y=j.sent,R=y.err,P=y.nodeName,!R){j.next=19;break}throw new Error(R);case 19:t.resolve(P);case 20:i?.(),j.next=27;break;case 23:j.prev=23,j.t0=j.catch(3),console.error(j.t0),b.update({okButtonProps:{loading:!1}});case 27:case"end":return j.stop()}},m,null,[[3,23]])}));return function(){return s.apply(this,arguments)}}(),p=ir(),v=Be.Z.confirm({title:"\u91CD\u547D\u540D",content:(0,C.jsx)(n,{}),getContainer:function(){return p.element},okButtonProps:{onClick:function(m){m.stopPropagation(),o()}},onCancel:function(){i()},afterClose:function(){i()}});return c.modal=v,t.promise}var lr=[x()(x()({},Ne),{},{CommandHandler:rr}),x()(x()({},je),{},{CommandHandler:ar}),x()(x()({},Me),{},{CommandHandler:ur})],Fe=u(8609),ae;(function(l){var a=l.NODE_COMMON_PROPS={renderKey:ue,width:fe,height:ve},t=l.queryGraphMeta=function(){var D=g()(e().mark(function _(y){return e().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.log("queryMeta",y),P.abrupt("return",x()(x()({},y),{},{flowId:y.meta.flowId}));case 2:case"end":return P.stop()}},_)}));return function(_){return D.apply(this,arguments)}}(),c=l.loadGraphData=function(){var D=g()(e().mark(function _(y){return e().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,Fe.xI)({uid:y.flowId});case 2:return P.abrupt("return",P.sent);case 3:case"end":return P.stop()}},_)}));return function(_){return D.apply(this,arguments)}}(),n=l.saveGraphData=function(){var D=g()(e().mark(function _(y,R){var P;return e().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return console.log("\u4FDD\u5B58\u6570\u636E api",y,R),j.next=3,(0,Fe.W2)({uid:y.flowId},{nodes:R.nodes,edges:R.edges,kind:"dag",apiVersion:"v1"});case 3:return P=j.sent,j.abrupt("return",{success:P.status,data:R});case 5:case"end":return j.stop()}},_)}));return function(_,y){return D.apply(this,arguments)}}(),i=l.deployDagService=function(){var D=g()(e().mark(function _(y,R){return e().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return console.log("deployService api",y,R),B.abrupt("return",{success:!0,data:R});case 2:case"end":return B.stop()}},_)}));return function(_,y){return D.apply(this,arguments)}}(),o=l.addNode=function(){var D=g()(e().mark(function _(y){var R,P,B,j,Z,ye,q,ge;return e().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return console.info("addNode service running, add node:",y),R=[{type:r.Ak.AnchorType.INPUT,group:r.Ak.AnchorGroup.TOP,tooltip:"\u8F93\u5165\u6869"},{type:r.Ak.AnchorType.OUTPUT,group:r.Ak.AnchorGroup.BOTTOM,tooltip:"\u8F93\u51FA\u6869"}],P=y.nodeConfig,B=P.id,j=P.ports,Z=j===void 0?R:j,ye=P.groupChildren,q=B||(0,r.k$)(),ge=x()(x()(x()({},a),y.nodeConfig),{},{id:q,ports:Z.map(function(Hr){return x()(x()({},Hr),{},{id:(0,r.k$)()})})}),ye&&ye.length&&(ge.ports=[]),Te.abrupt("return",ge);case 7:case"end":return Te.stop()}},_)}));return function(_){return D.apply(this,arguments)}}(),p=l.renameNode=function(){var D=g()(e().mark(function _(y,R,P){return e().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return console.log("rename node",R,y,P),j.abrupt("return",{err:null,nodeName:y});case 2:case"end":return j.stop()}},_)}));return function(_,y,R){return D.apply(this,arguments)}}(),v=l.delNode=function(){var D=g()(e().mark(function _(y){return e().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.info("delNode service running, del node:",y.nodeConfig.id),P.abrupt("return",!0);case 2:case"end":return P.stop()}},_)}));return function(_){return D.apply(this,arguments)}}(),s=l.addEdge=function(){var D=g()(e().mark(function _(y){var R;return e().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return console.info("addEdge service running, add edge:",y),R=y.edgeConfig,B.abrupt("return",x()(x()({},R),{},{id:(0,r.k$)()}));case 3:case"end":return B.stop()}},_)}));return function(_){return D.apply(this,arguments)}}(),m=l.delEdge=function(){var D=g()(e().mark(function _(y){return e().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.info("delEdge service running, del edge:",y),P.abrupt("return",!0);case 2:case"end":return P.stop()}},_)}));return function(_){return D.apply(this,arguments)}}(),d=0,b={},h=r.yc.StatusEnum.DEFAULT,k=l.graphStatusService=g()(e().mark(function D(){return e().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return d<4?(b["node".concat(d)]={status:r.yc.StatusEnum.SUCCESS},b["node".concat(d+1)]={status:r.yc.StatusEnum.PROCESSING},d+=1,h=r.yc.StatusEnum.PROCESSING):(d=0,b.node4={status:r.yc.StatusEnum.SUCCESS},h=r.yc.StatusEnum.SUCCESS),y.abrupt("return",{graphStatus:h,statusMap:b});case 2:case"end":return y.stop()}},D)})),N=l.stopGraphStatusService=g()(e().mark(function D(){return e().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return Object.entries(b).forEach(function(R){var P=Ge()(R,2),B=P[1],j=B,Z=j.status;Z===r.yc.StatusEnum.PROCESSING&&(B.status=r.yc.StatusEnum.ERROR)}),y.abrupt("return",{graphStatus:r.yc.StatusEnum.ERROR,statusMap:b});case 2:case"end":return y.stop()}},D)}))})(ae||(ae={}));var cr=(0,r.s4)(function(l){l.setCommandContributions(function(){return lr}),l.setRegisterHookFn(function(a){var t=[a.graphMeta.registerHook({name:"get graph meta from backend",handler:function(){var n=g()(e().mark(function o(p){return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:p.graphMetaService=ae.queryGraphMeta;case 1:case"end":return s.stop()}},o)}));function i(o){return n.apply(this,arguments)}return i}()}),a.saveGraphData.registerHook({name:"save graph data",handler:function(){var n=g()(e().mark(function o(p){return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:p.saveGraphDataService||(p.saveGraphDataService=ae.saveGraphData);case 1:case"end":return s.stop()}},o)}));function i(o){return n.apply(this,arguments)}return i}()}),a.addNode.registerHook({name:"get node config from backend api",handler:function(){var n=g()(e().mark(function o(p){return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:p.createNodeService=ae.addNode;case 1:case"end":return s.stop()}},o)}));function i(o){return n.apply(this,arguments)}return i}()}),a.delNode.registerHook({name:"get edge config from backend api",handler:function(){var n=g()(e().mark(function o(p){return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:p.deleteNodeService=ae.delNode;case 1:case"end":return s.stop()}},o)}));function i(o){return n.apply(this,arguments)}return i}()}),a.addEdge.registerHook({name:"get edge config from backend api",handler:function(){var n=g()(e().mark(function o(p){return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:p.createEdgeService=ae.addEdge,p.edgeConfig=x()(x()({},p.edgeConfig),{},{connector:{name:"rounded"},router:{name:"manhattan"}});case 2:case"end":return s.stop()}},o)}));function i(o){return n.apply(this,arguments)}return i}()}),a.delEdge.registerHook({name:"get edge config from backend api",handler:function(){var n=g()(e().mark(function o(p){return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:p.deleteEdgeService=ae.delEdge;case 1:case"end":return s.stop()}},o)}));function i(o){return n.apply(this,arguments)}return i}()})],c=new r.K4;return c.pushAll(t),c})}),ze=function(a){a.executeCommandPipeline([{commandId:r.Gv.LOAD_DATA.id,getCommandOption:function(){var t=g()(e().mark(function n(){return e().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{args:{loadDataService:ae.loadGraphData}});case 1:case"end":return o.stop()}},n)}));function c(){return t.apply(this,arguments)}return c}()},{commandId:r.Gv.GRAPH_LAYOUT.id,getCommandOption:function(){var t=g()(e().mark(function n(i){var o,p;return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=i.getResult(),p=o.graphData,s.abrupt("return",{args:{layoutType:"dagre",layoutOptions:{type:"dagre",rankdir:"TB",nodesep:60,ranksep:30},graphData:p}});case 2:case"end":return s.stop()}},n)}));function c(n){return t.apply(this,arguments)}return c}()},{commandId:r.Gv.GRAPH_RENDER.id,getCommandOption:function(){var t=g()(e().mark(function n(i){var o,p;return e().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=i.getResult(),p=o.graphData,s.abrupt("return",{args:{graphData:p}});case 2:case"end":return s.stop()}},n)}));function c(n){return t.apply(this,arguments)}return c}()},{commandId:r.Gv.GRAPH_ZOOM.id,getCommandOption:function(){var t=g()(e().mark(function n(){return e().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{args:{factor:"fit",zoomOptions:{maxScale:.9}}});case 1:case"end":return o.stop()}},n)}));function c(){return t.apply(this,arguments)}return c}()}])},xe;(function(l){var a=l.id="test"})(xe||(xe={}));var dr=(0,r.HJ)(function(l){l.registerModel(function(a){return a.registerModel({id:xe.id,getInitialValue:function(){e:;}})})}),Vr=null,pr=u(73171),mr=u(8212),Xe=u(15360),be;(function(l){r.ko.set("DeleteOutlined",pr.Z),r.ko.set("EditOutlined",mr.Z),r.ko.set("StopOutlined",Xe.Z);var a=l.DELETE_EDGE={id:r.$b.DEL_EDGE.id,label:"\u5220\u9664\u8FB9",iconName:"DeleteOutlined",onClick:function(){var o=g()(e().mark(function v(s){var m,d;return e().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:m=s.target,d=s.commandService,d.executeCommand(r.$b.DEL_EDGE.id,{edgeConfig:m.data});case 2:case"end":return h.stop()}},v)}));function p(v){return o.apply(this,arguments)}return p}()},t=l.DELETE_NODE={id:r.cE.DEL_NODE.id,label:"\u5220\u9664\u8282\u70B9",iconName:"DeleteOutlined",onClick:function(){var o=g()(e().mark(function v(s){var m,d,b,h;return e().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:b=s.target,h=s.commandService,Be.Z.confirm({title:"Confirm delete node?",content:"".concat((m=b.data)===null||m===void 0?void 0:m.label," [").concat((d=b.data)===null||d===void 0?void 0:d.id,"]"),okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){h.executeCommand(r.cE.DEL_NODE.id,{nodeConfig:{id:b.data.id}})}});case 2:case"end":return N.stop()}},v)}));function p(v){return o.apply(this,arguments)}return p}()},c=l.EMPTY_MENU={id:"EMPTY_MENU_ITEM",label:"\u6682\u65E0\u53EF\u7528",isEnabled:!1,iconName:"DeleteOutlined"},n=l.RENAME_NODE={id:I.SHOW_RENAME_MODAL.id,label:"\u91CD\u547D\u540D",isVisible:!0,iconName:"EditOutlined",onClick:function(){var o=g()(e().mark(function v(s){var m,d,b;return e().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:m=s.target,d=s.commandService,b=m.data,d.executeCommand(I.SHOW_RENAME_MODAL.id,{nodeConfig:b,updateNodeNameService:ae.renameNode});case 3:case"end":return k.stop()}},v)}));function p(v){return o.apply(this,arguments)}return p}()},i=l.SEPARATOR={id:"separator",type:r.UI.Separator}})(be||(be={}));var hr=(0,r.Kd)(function(l){l.setMenuModelService(function(){var a=g()(e().mark(function t(c,n,i,o){var p,v;return e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:p=c.type,v=c.cell,console.log(p),m.t0=p,m.next=m.t0==="node"?5:m.t0==="edge"?7:m.t0==="blank"?9:11;break;case 5:return n.setValue({id:"root",type:r.UI.Root,submenu:[be.DELETE_NODE,be.RENAME_NODE]}),m.abrupt("break",13);case 7:return n.setValue({id:"root",type:r.UI.Root,submenu:[be.DELETE_EDGE]}),m.abrupt("break",13);case 9:return n.setValue({id:"root",type:r.UI.Root,submenu:[be.EMPTY_MENU]}),m.abrupt("break",13);case 11:return n.setValue({id:"root",type:r.UI.Root,submenu:[be.EMPTY_MENU]}),m.abrupt("break",13);case 13:case"end":return m.stop()}},t)}));return function(t,c,n,i){return a.apply(this,arguments)}}())}),fr=u(92104),vr=u(97254),_r=u(18094),gr=u(36371),Er=u(50827),wr=u(54034),Ye=u(24565),Pe;(function(l){r.ko.set("SaveOutlined",fr.Z),r.ko.set("CloudSyncOutlined",vr.Z),r.ko.set("GatewayOutlined",_r.Z),r.ko.set("GroupOutlined",gr.Z),r.ko.set("UngroupOutlined",Er.Z),r.ko.set("PlaySquareOutlined",wr.Z),r.ko.set("StopOutlined",Xe.Z);var a=l.getDependencies=function(){var n=g()(e().mark(function i(o){return e().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,r.dX.SELECTED_CELLS.getModel(o);case 2:return v.t0=v.sent,v.next=5,r.dX.GRAPH_ENABLE_MULTI_SELECT.getModel(o);case 5:return v.t1=v.sent,v.next=8,r.yc.MODEL.getModel(o);case 8:return v.t2=v.sent,v.abrupt("return",[v.t0,v.t1,v.t2]);case 10:case"end":return v.stop()}},i)}));return function(i){return n.apply(this,arguments)}}(),t=l.getToolbarState=function(){var n=g()(e().mark(function i(o){var p,v,s,m,d;return e().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,r.dX.GRAPH_ENABLE_MULTI_SELECT.useValue(o);case 2:return p=h.sent,v=p.isEnable,h.next=6,r.dX.IS_GROUP_SELECTED.useValue(o);case 6:return s=h.sent,h.next=9,r.dX.IS_NORMAL_NODES_SELECTED.useValue(o);case 9:return m=h.sent,h.next=12,r.yc.MODEL.useValue(o);case 12:return d=h.sent,h.abrupt("return",{isNodeSelected:m,isGroupSelected:s,isMultiSelectionActive:v,isProcessing:d.graphStatus===r.yc.StatusEnum.PROCESSING});case 14:case"end":return h.stop()}},i)}));return function(i){return n.apply(this,arguments)}}(),c=l.getToolbarItems=function(){var n=g()(e().mark(function i(o){var p,v;return e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return p=[],v=[],p.push({id:r.Gv.SAVE_GRAPH_DATA.id+"check",iconName:"GatewayOutlined",tooltip:"\u8BED\u6CD5\u68C0\u67E5",onClick:function(){var d=g()(e().mark(function h(k){var N;return e().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:N=k.commandService,N.executeCommand(r.Gv.SAVE_GRAPH_DATA.id,{saveGraphDataService:function(R,P){return ae.saveGraphData(R,P)}});case 2:case"end":return _.stop()}},h)}));function b(h){return d.apply(this,arguments)}return b}()}),p.push({id:r.Gv.SAVE_GRAPH_DATA.id,iconName:"SaveOutlined",tooltip:"\u4FDD\u5B58\u6570\u636E",onClick:function(){var d=g()(e().mark(function h(k){var N;return e().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:N=k.commandService,N.executeCommand(r.Gv.SAVE_GRAPH_DATA.id,{saveGraphDataService:function(R,P){return ae.saveGraphData(R,P)}});case 2:case"end":return _.stop()}},h)}));function b(h){return d.apply(this,arguments)}return b}(),render:function(b){return(0,C.jsx)(Ye.Z,{title:"\u786E\u5B9A\u4FDD\u5B58\u6570\u636E\uFF1F",onConfirm:function(){b.onClick()},children:b.children})}}),v.push({id:r.ho.QUERY_GRAPH_STATUS.id+"play",tooltip:"\u5F00\u59CB\u6267\u884C",iconName:"PlaySquareOutlined",isEnabled:!o.isProcessing,onClick:function(){var d=g()(e().mark(function h(k){var N;return e().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:N=k.commandService,N.executeCommand(r.ho.QUERY_GRAPH_STATUS.id,{graphStatusService:ae.graphStatusService,loopInterval:3e3});case 2:case"end":return _.stop()}},h)}));function b(h){return d.apply(this,arguments)}return b}()}),v.push({id:r.ho.QUERY_GRAPH_STATUS.id+"stop",tooltip:"\u505C\u6B62\u6267\u884C",iconName:"StopOutlined",isEnabled:o.isProcessing,onClick:function(){var d=g()(e().mark(function h(k){var N;return e().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:N=k.commandService,N.executeCommand(r.ho.QUERY_GRAPH_STATUS.id,{graphStatusService:ae.stopGraphStatusService,loopInterval:5e3});case 2:case"end":return _.stop()}},h)}));function b(h){return d.apply(this,arguments)}return b}(),render:function(b){return(0,C.jsx)(Ye.Z,{title:"\u786E\u5B9A\u505C\u6B62\u6267\u884C\uFF1F",onConfirm:function(){b.onClick()},children:b.children})}}),m.abrupt("return",[{name:"graphData",items:p},{name:"customCmd",items:v}]);case 7:case"end":return m.stop()}},i)}));return function(i){return n.apply(this,arguments)}}()})(Pe||(Pe={}));var br=(0,r.iR)(function(l){l.setToolbarModelService(function(){var a=g()(e().mark(function t(c,n,i){var o,p,v;return e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o=function(){var d=g()(e().mark(function b(){var h,k;return e().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,Pe.getToolbarState(n);case 2:return h=D.sent,D.next=5,Pe.getToolbarItems(h);case 5:k=D.sent,c.setValue(function(_){_.mainGroups=k});case 7:case"end":return D.stop()}},b)}));return function(){return d.apply(this,arguments)}}(),m.next=3,Pe.getDependencies(n);case 3:p=m.sent,v=p.map(function(d){return d.watch(g()(e().mark(function b(){return e().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:o();case 1:case"end":return k.stop()}},b)})))}),i.pushAll(v);case 6:case"end":return m.stop()}},t)}));return function(t,c,n){return a.apply(this,arguments)}}())}),yr=(0,r.zg)(function(l){l.setKeybindingFunc(function(a){return a.registerKeybinding([{id:"delete node or edge",keybinding:"backspace",callback:function(){var t=g()(e().mark(function n(i,o,p){var v;return e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,r.dX.SELECTED_CELLS.useValue(o);case 2:return v=m.sent,m.next=5,Promise.all(v.map(function(d){if(d.isEdge())return p.executeCommand(r.$b.DEL_EDGE.id,{edgeConfig:x()(x()({},d.getData()),{},{id:d.id})})}));case 5:return m.next=7,Promise.all(v.map(function(d){if(d.isNode())return p.executeCommand(r.cE.DEL_NODE.id,{nodeConfig:x()(x()({},d.getData()),{},{id:d.id})})}));case 7:case"end":return m.stop()}},n)}));function c(n,i,o){return t.apply(this,arguments)}return c}()},{id:"copy",keybinding:["command+c","ctrl+c"],callback:function(){var t=g()(e().mark(function n(i,o,p,v){return e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:v.preventDefault(),console.log(i),p.executeCommand(r.Gv.GRAPH_COPY.id,{});case 3:case"end":return m.stop()}},n)}));function c(n,i,o,p){return t.apply(this,arguments)}return c}()},{id:"paste",keybinding:["command+v","ctrl+v"],callback:function(){var t=g()(e().mark(function n(i,o,p,v){return e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:v.preventDefault(),p.executeCommand(r.Gv.GRAPH_PASTE.id,{});case 2:case"end":return m.stop()}},n)}));function c(n,i,o,p){return t.apply(this,arguments)}return c}()}])})}),Sr=u(91894),Cr=function(){var l=g()(e().mark(function a(t,c,n){var i;return e().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:i={nodeConfig:x()(x()({},t),{},{id:(0,r.k$)()})},console.log("onNodeDrop",i),c.executeCommand(r.cE.ADD_NODE.id,i);case 3:case"end":return p.stop()}},a)}));return function(t,c,n){return l.apply(this,arguments)}}(),Dr=function(a){return(0,C.jsxs)(Sr.Z,{size:"small",title:"\u8BA1\u7B97\u8282\u70B9\u4ECB\u7ECD",style:{width:"200px"},bordered:!1,children:["\u6B22\u8FCE\u4F7F\u7528\uFF1A",a.name,"\u8FD9\u91CC\u53EF\u4EE5\u6839\u636E\u8BBE\u7F6E\u7684\u4EE3\u7801\u8FDB\u884C\u8FD0\u7B97"]})},Pr=function(){var l=g()(e().mark(function a(t,c){return e().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log(t,c),i.abrupt("return",[{id:"\u6570\u636E\u8BA1\u7B97",header:"\u6570\u636E\u8BA1\u7B97",children:[{id:"2",label:"\u8BA1\u7B97\u8282\u70B9",parentId:"1",renderKey:ue,popoverContent:(0,C.jsx)(Dr,{name:"\u8BA1\u7B97\u8282\u70B9"})}]}]);case 2:case"end":return i.stop()}},a)}));return function(t,c){return l.apply(this,arguments)}}(),Or=function(){var l=g()(e().mark(function a(){var t,c,n=arguments;return e().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=n.length>0&&n[0]!==void 0?n[0]:[],c=n.length>1?n[1]:void 0,o.abrupt("return",t.filter(function(p){return p.label.includes(c)}));case 3:case"end":return o.stop()}},a)}));return function(){return l.apply(this,arguments)}}(),kr=u(76888),Tr=u(68564),Nr=u(26904),Rr=u(34041),jr=function(a){var t=a.options,c=a.placeholder,n=a.disabled,i=a.value,o=a.name,p=(0,r.XZ)(),v=p.commandService,s=p.modelService,m=i,d=void 0;if(o!="code"&&(d="multiple",i==null||i=="")){var b=[];m=b}var h=(0,ne.useState)(m),k=Ge()(h,2),N=k[0],D=k[1],_=function(R){r.dX.SELECTED_NODES.useValue(s).then(function(P){P[0].data[o]=R,D(R),v.executeCommand(r.cE.UPDATE_NODE.id,{nodeConfig:P[0].data})})};return(0,C.jsx)(Rr.Z,{mode:d,options:t,value:N,placeholder:c,disabled:n,onChange:_})},Gr=function(a){var t=a.controlSchema,c=t.required,n=t.tooltip,i=t.extra,o=t.name,p=t.label,v=t.placeholder,s=t.options;return(0,C.jsx)(r.Gn,{schema:t,children:function(d){var b=d.disabled,h=d.hidden,k=d.initialValue;return(0,C.jsx)(De.Z.Item,{name:o,label:p,initialValue:k,tooltip:n,extra:i,required:c,hidden:h,children:(0,C.jsx)(jr,{controlSchema:t,options:s,placeholder:v,disabled:b,name:o})})}})},Ar=function(a){var t=a.placeholder,c=a.disabled,n=a.onChange,i=a.value,o=(0,r.XZ)(),p=o.commandService,v=o.modelService;return ne.useEffect(function(){p.executeCommand(r.Gv.SAVE_GRAPH_DATA.id,{saveGraphDataService:function(){var s=g()(e().mark(function d(b,h){var k;return e().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,r.dX.SELECTED_NODES.useValue(v);case 2:return k=D.sent,console.log(h),console.log(k),n?.(JSON.stringify(h)),D.abrupt("return",{err:null,data:h,meta:b});case 7:case"end":return D.stop()}},d)}));function m(d,b){return s.apply(this,arguments)}return m}()})}),(0,C.jsx)(We.Z.TextArea,{value:i,placeholder:t,disabled:c,rows:10})},Mr=function(a){var t=a.controlSchema,c=t.required,n=t.tooltip,i=t.extra,o=t.name,p=t.label,v=t.placeholder;return(0,C.jsx)(r.Gn,{schema:t,children:function(m){var d=m.disabled,b=m.hidden,h=m.initialValue;return(0,C.jsx)(De.Z.Item,{name:o,label:p,initialValue:h,tooltip:n,extra:i,required:c,hidden:b,children:(0,C.jsx)(Ar,{controlSchema:t,placeholder:v,disabled:d})})}})},xr=function(a){var t=a.controlSchema;return(0,C.jsx)("div",{style:{padding:"8px 0px",marginBottom:"8px"},children:(0,C.jsx)("a",{href:t.value,target:"_blank",style:{color:"#3057e3"},rel:"noreferrer",children:t.label})})},ce;(function(l){l.EDITOR="EDITOR",l.SELECTOR="SELECTOR",l.LINKSHAPE="LINKSHAPE"})(ce||(ce={}));var Lr=function(a){return a.set(ce.EDITOR,Mr),a.set(ce.SELECTOR,Gr),a.set(ce.LINKSHAPE,xr),a};function Zr(l){return new Promise(function(a){return setTimeout(function(){return a(!0)},l)})}var $r=function(){var l=g()(e().mark(function a(t){var c,n,i,o,p,v,s,m,d,b,h,k,N;return e().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=t.modelService,p=t.targetType,_.next=3,r.dX.GRAPH_META.useValue(o);case 3:if(v=_.sent,p!=="canvas"){_.next=6;break}return _.abrupt("return",{tabs:[{name:"DagMeta",groups:[{name:"groupName",controls:[{name:"workflowUID",label:"WorkflowUID",shape:"Input",disabled:!0,required:!0,tooltip:"Workflow UID",extra:"",placeholder:"workflow uid",value:"",defaultValue:v.flowId,hidden:!1,options:[{title:"",value:""}],originData:{}},{label:"\u56FE\u6570\u636E",name:"graphJSON",shape:ce.EDITOR,disabled:!1,required:!0,tooltip:"JSON \u6570\u636E",placeholder:"JSON \u6570\u636E",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}},{label:"\u67E5\u770B\u65E5\u5FD7\u94FE\u63A5",name:"log",shape:ce.LINKSHAPE,disabled:!1,required:!0,tooltip:"log link",placeholder:"log link",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}}]}]}]});case 6:return console.log("node data",t.targetData),_.next=9,(0,kr.NQ)();case 9:return s=_.sent,_.next=12,(0,Nr.Xn)();case 12:return m=_.sent,_.next=15,(0,Tr.Pb)();case 15:return d=_.sent,b=[],s!=null&&s.items!=null&&s.items.forEach(function(y){b.push({label:y.name,value:y.uid})}),h=[],m!=null&&m.items!=null&&(console.log(m),m.items.forEach(function(y){h.push({label:y.name,value:y.uid})})),k=[],d!=null&&d.items!=null&&d.items.forEach(function(y){k.push({label:y.name,value:y.uid})}),N={tabs:[{name:"NodeMeta",groups:[{name:"nodeName",controls:[{label:"\u4EE3\u7801",name:"code",shape:ce.SELECTOR,disabled:!1,required:!0,tooltip:"The code to be run by the compute node",placeholder:"please select code",value:(c=t.targetData)===null||c===void 0?void 0:c.code,defaultValue:"",hidden:!1,options:b,originData:{}},{label:"\u53D8\u91CF",name:"variables",shape:ce.SELECTOR,disabled:!1,required:!1,tooltip:"Variables loaded by compute nodes",placeholder:"please select connections",value:(n=t.targetData)===null||n===void 0?void 0:n.variables,defaultValue:"",hidden:!1,options:h,originData:{}},{label:"\u8FDE\u63A5",name:"connections",shape:ce.SELECTOR,disabled:!1,required:!1,tooltip:"Connections loaded by compute nodes",placeholder:"please select connections",value:(i=t.targetData)===null||i===void 0?void 0:i.connections,defaultValue:"",hidden:!1,options:k,originData:{}}]}]}]},_.abrupt("return",N);case 24:case"end":return _.stop()}},a)}));return function(t){return l.apply(this,arguments)}}(),Ur=function(){var l=g()(e().mark(function a(t){return e().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:console.log("formValueUpdateService",t);case 1:case"end":return n.stop()}},a)}));return function(t){return l.apply(this,arguments)}}(),Ir=u(48705),Fr=u(22970),Qe=u(95952),Wr=u(71577),Je=function(a){var t=a.meta,c=J(a),n=br(),i=hr(),o=cr(),p=dr(),v=yr(),s=(0,Qe.useParams)(),m=(0,Qe.useNavigate)(),d=ne.useMemo(function(){return{app:null}},[]),b=function(){var h=g()(e().mark(function k(N){return e().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:d.app=N,ze(d.app);case 2:case"end":return _.stop()}},k)}));return function(N){return h.apply(this,arguments)}}();return ne.useEffect(function(){d.app&&ze(d.app)},[d.app,t]),(0,C.jsx)(Ir._z,{header:{breadcrumb:{routes:[{path:"",breadcrumbName:"\u5DE5\u4F5C\u6D41"},{path:"",breadcrumbName:"DAG"}]},extra:[(0,C.jsx)(Wr.Z,{onClick:function(){return m("/workflows")},children:"\u8FD4\u56DE"},"back")]},children:(0,C.jsxs)(r.g,{className:"dag-user-custom-clz",hookConfig:c,modelServiceConfig:p,commandConfig:o,onLoad:b,meta:{flowId:s.uid},children:[(0,C.jsx)(r.ce,{}),(0,C.jsx)(r.zl,{className:"xflow-node-panel",searchService:Or,nodeDataService:Pr,onNodeDrop:Cr,position:{width:230,top:0,bottom:0,left:0},footerPosition:{height:0},bodyPosition:{top:40,bottom:0,left:0}}),(0,C.jsx)(r.xZ,{className:"xflow-workspace-toolbar-top",layout:"horizontal",config:n,position:{top:0,left:230,right:290,bottom:0}}),(0,C.jsxs)(r.n1,{position:{top:40,left:230,right:290,bottom:0},children:[(0,C.jsx)(r.It,{position:{top:12,right:12}}),(0,C.jsx)(r.g8,{config:i}),(0,C.jsx)(r.XS,{color:"#faad14"}),(0,C.jsx)(r.w5,{})]}),(0,C.jsx)(r.Ip,{controlMapService:Lr,formSchemaService:$r,formValueUpdateService:Ur,bodyPosition:{top:0,bottom:0,right:0},position:{width:290,top:0,bottom:0,right:0},footerPosition:{height:0}}),(0,C.jsx)(r.G7,{config:v})]})})},Br=Je},76888:function(Oe,le,u){u.d(le,{NQ:function(){return se},TS:function(){return ie},Xs:function(){return oe},Ys:function(){return ve}});var de=u(56307),g=u.n(de),pe=u(74411),e=u.n(pe),ne=u(55559),r=u.n(ne),me=u(45223),A=u.n(me),K=u(95952),x=null,te=["uid"],ue=["uid"],he=null,fe=null;function ve(E,f){return z.apply(this,arguments)}function z(){return z=r()(A().mark(function E(f,T){return A().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,K.request)("/api/apps/v1/code",e()({method:"POST",headers:{"Content-Type":"application/json"},data:f},T||{})));case 1:case"end":return S.stop()}},E)})),z.apply(this,arguments)}function Se(E,f){return X.apply(this,arguments)}function X(){return X=_asyncToGenerator(_regeneratorRuntime.mark(function E(f,T){var w,S;return _regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=f.uid,S=_objectWithoutProperties(f,x),O.abrupt("return",request("/api/apps/v1/code/".concat(w),_objectSpread({method:"GET",params:_objectSpread({},S)},T||{})));case 2:case"end":return O.stop()}},E)})),X.apply(this,arguments)}function oe(E,f,T){return ee.apply(this,arguments)}function ee(){return ee=r()(A().mark(function E(f,T,w){var S,$;return A().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return S=f.uid,$=g()(f,te),G.abrupt("return",(0,K.request)("/api/apps/v1/code/".concat(S),e()({method:"PUT",headers:{"Content-Type":"application/json"},params:e()({},$),data:T},w||{})));case 2:case"end":return G.stop()}},E)})),ee.apply(this,arguments)}function ie(E,f){return C.apply(this,arguments)}function C(){return C=r()(A().mark(function E(f,T){var w,S;return A().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=f.uid,S=g()(f,ue),O.abrupt("return",(0,K.request)("/api/apps/v1/code/".concat(w),e()({method:"DELETE",params:e()({},S)},T||{})));case 2:case"end":return O.stop()}},E)})),C.apply(this,arguments)}function Ee(E,f,T){return Y.apply(this,arguments)}function Y(){return Y=_asyncToGenerator(_regeneratorRuntime.mark(function E(f,T,w){var S,$;return _regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return S=f.uid,$=_objectWithoutProperties(f,he),G.abrupt("return",request("/api/apps/v1/code/".concat(S),_objectSpread({method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},params:_objectSpread({},$),data:T},w||{})));case 2:case"end":return G.stop()}},E)})),Y.apply(this,arguments)}function we(E,f){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime.mark(function E(f,T){var w,S;return _regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=f.uid,S=_objectWithoutProperties(f,fe),O.abrupt("return",request("/api/apps/v1/code/".concat(w,"/watch"),_objectSpread({method:"GET",params:_objectSpread({},S)},T||{})));case 2:case"end":return O.stop()}},E)})),re.apply(this,arguments)}function se(E){return Q.apply(this,arguments)}function Q(){return Q=r()(A().mark(function E(f){return A().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,K.request)("/api/apps/v1/code/list",e()({method:"GET"},f||{})));case 1:case"end":return w.stop()}},E)})),Q.apply(this,arguments)}function _e(E){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime.mark(function E(f){return _regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",request("/api/apps/v1/code/watch",_objectSpread({method:"GET"},f||{})));case 1:case"end":return w.stop()}},E)})),J.apply(this,arguments)}},68564:function(Oe,le,u){u.d(le,{Pb:function(){return se},ZH:function(){return ve},m9:function(){return ie},r8:function(){return oe}});var de=u(56307),g=u.n(de),pe=u(74411),e=u.n(pe),ne=u(55559),r=u.n(ne),me=u(45223),A=u.n(me),K=u(95952),x=null,te=["uid"],ue=["uid"],he=null,fe=null;function ve(E,f){return z.apply(this,arguments)}function z(){return z=r()(A().mark(function E(f,T){return A().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,K.request)("/api/apps/v1/connection",e()({method:"POST",headers:{"Content-Type":"application/json"},data:f},T||{})));case 1:case"end":return S.stop()}},E)})),z.apply(this,arguments)}function Se(E,f){return X.apply(this,arguments)}function X(){return X=_asyncToGenerator(_regeneratorRuntime.mark(function E(f,T){var w,S;return _regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=f.uid,S=_objectWithoutProperties(f,x),O.abrupt("return",request("/api/apps/v1/connection/".concat(w),_objectSpread({method:"GET",params:_objectSpread({},S)},T||{})));case 2:case"end":return O.stop()}},E)})),X.apply(this,arguments)}function oe(E,f,T){return ee.apply(this,arguments)}function ee(){return ee=r()(A().mark(function E(f,T,w){var S,$;return A().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return S=f.uid,$=g()(f,te),G.abrupt("return",(0,K.request)("/api/apps/v1/connection/".concat(S),e()({method:"PUT",headers:{"Content-Type":"application/json"},params:e()({},$),data:T},w||{})));case 2:case"end":return G.stop()}},E)})),ee.apply(this,arguments)}function ie(E,f){return C.apply(this,arguments)}function C(){return C=r()(A().mark(function E(f,T){var w,S;return A().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=f.uid,S=g()(f,ue),O.abrupt("return",(0,K.request)("/api/apps/v1/connection/".concat(w),e()({method:"DELETE",params:e()({},S)},T||{})));case 2:case"end":return O.stop()}},E)})),C.apply(this,arguments)}function Ee(E,f,T){return Y.apply(this,arguments)}function Y(){return Y=_asyncToGenerator(_regeneratorRuntime.mark(function E(f,T,w){var S,$;return _regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return S=f.uid,$=_objectWithoutProperties(f,he),G.abrupt("return",request("/api/apps/v1/connection/".concat(S),_objectSpread({method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},params:_objectSpread({},$),data:T},w||{})));case 2:case"end":return G.stop()}},E)})),Y.apply(this,arguments)}function we(E,f){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime.mark(function E(f,T){var w,S;return _regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=f.uid,S=_objectWithoutProperties(f,fe),O.abrupt("return",request("/api/apps/v1/connection/".concat(w,"/watch"),_objectSpread({method:"GET",params:_objectSpread({},S)},T||{})));case 2:case"end":return O.stop()}},E)})),re.apply(this,arguments)}function se(E){return Q.apply(this,arguments)}function Q(){return Q=r()(A().mark(function E(f){return A().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,K.request)("/api/apps/v1/connection/list",e()({method:"GET"},f||{})));case 1:case"end":return w.stop()}},E)})),Q.apply(this,arguments)}function _e(E){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime.mark(function E(f){return _regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",request("/api/apps/v1/connection/watch",_objectSpread({method:"GET"},f||{})));case 1:case"end":return w.stop()}},E)})),J.apply(this,arguments)}},26904:function(Oe,le,u){u.d(le,{LP:function(){return ie},Xn:function(){return se},cq:function(){return oe},kz:function(){return ve}});var de=u(56307),g=u.n(de),pe=u(74411),e=u.n(pe),ne=u(55559),r=u.n(ne),me=u(45223),A=u.n(me),K=u(95952),x=null,te=["uid"],ue=["uid"],he=null,fe=null;function ve(E,f){return z.apply(this,arguments)}function z(){return z=r()(A().mark(function E(f,T){return A().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,K.request)("/api/apps/v1/variable",e()({method:"POST",headers:{"Content-Type":"application/json"},data:f},T||{})));case 1:case"end":return S.stop()}},E)})),z.apply(this,arguments)}function Se(E,f){return X.apply(this,arguments)}function X(){return X=_asyncToGenerator(_regeneratorRuntime.mark(function E(f,T){var w,S;return _regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=f.uid,S=_objectWithoutProperties(f,x),O.abrupt("return",request("/api/apps/v1/variable/".concat(w),_objectSpread({method:"GET",params:_objectSpread({},S)},T||{})));case 2:case"end":return O.stop()}},E)})),X.apply(this,arguments)}function oe(E,f,T){return ee.apply(this,arguments)}function ee(){return ee=r()(A().mark(function E(f,T,w){var S,$;return A().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return S=f.uid,$=g()(f,te),G.abrupt("return",(0,K.request)("/api/apps/v1/variable/".concat(S),e()({method:"PUT",headers:{"Content-Type":"application/json"},params:e()({},$),data:T},w||{})));case 2:case"end":return G.stop()}},E)})),ee.apply(this,arguments)}function ie(E,f){return C.apply(this,arguments)}function C(){return C=r()(A().mark(function E(f,T){var w,S;return A().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=f.uid,S=g()(f,ue),O.abrupt("return",(0,K.request)("/api/apps/v1/variable/".concat(w),e()({method:"DELETE",params:e()({},S)},T||{})));case 2:case"end":return O.stop()}},E)})),C.apply(this,arguments)}function Ee(E,f,T){return Y.apply(this,arguments)}function Y(){return Y=_asyncToGenerator(_regeneratorRuntime.mark(function E(f,T,w){var S,$;return _regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return S=f.uid,$=_objectWithoutProperties(f,he),G.abrupt("return",request("/api/apps/v1/variable/".concat(S),_objectSpread({method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},params:_objectSpread({},$),data:T},w||{})));case 2:case"end":return G.stop()}},E)})),Y.apply(this,arguments)}function we(E,f){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime.mark(function E(f,T){var w,S;return _regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=f.uid,S=_objectWithoutProperties(f,fe),O.abrupt("return",request("/api/apps/v1/variable/".concat(w,"/watch"),_objectSpread({method:"GET",params:_objectSpread({},S)},T||{})));case 2:case"end":return O.stop()}},E)})),re.apply(this,arguments)}function se(E){return Q.apply(this,arguments)}function Q(){return Q=r()(A().mark(function E(f){return A().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,K.request)("/api/apps/v1/variable/list",e()({method:"GET"},f||{})));case 1:case"end":return w.stop()}},E)})),Q.apply(this,arguments)}function _e(E){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime.mark(function E(f){return _regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",request("/api/apps/v1/variable/watch",_objectSpread({method:"GET"},f||{})));case 1:case"end":return w.stop()}},E)})),J.apply(this,arguments)}},8609:function(Oe,le,u){u.d(le,{NS:function(){return C},W2:function(){return J},g4:function(){return X},gI:function(){return $},oJ:function(){return Y},xI:function(){return Q}});var de=u(56307),g=u.n(de),pe=u(74411),e=u.n(pe),ne=u(55559),r=u.n(ne),me=u(45223),A=u.n(me),K=u(95952),x=null,te=["uid"],ue=["uid"],he=null,fe=["uid"],ve=["uid"],z=null,Se=null;function X(L,M){return oe.apply(this,arguments)}function oe(){return oe=r()(A().mark(function L(M,I){return A().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",(0,K.request)("/api/apps/v1/workflow",e()({method:"POST",headers:{"Content-Type":"application/json"},data:M},I||{})));case 1:case"end":return W.stop()}},L)})),oe.apply(this,arguments)}function ee(L,M){return ie.apply(this,arguments)}function ie(){return ie=_asyncToGenerator(_regeneratorRuntime.mark(function L(M,I){var U,W;return _regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return U=M.uid,W=_objectWithoutProperties(M,x),H.abrupt("return",request("/api/apps/v1/workflow/".concat(U),_objectSpread({method:"GET",params:_objectSpread({},W)},I||{})));case 2:case"end":return H.stop()}},L)})),ie.apply(this,arguments)}function C(L,M,I){return Ee.apply(this,arguments)}function Ee(){return Ee=r()(A().mark(function L(M,I,U){var W,F;return A().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return W=M.uid,F=g()(M,te),V.abrupt("return",(0,K.request)("/api/apps/v1/workflow/".concat(W),e()({method:"PUT",headers:{"Content-Type":"application/json"},params:e()({},F),data:I},U||{})));case 2:case"end":return V.stop()}},L)})),Ee.apply(this,arguments)}function Y(L,M){return we.apply(this,arguments)}function we(){return we=r()(A().mark(function L(M,I){var U,W;return A().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return U=M.uid,W=g()(M,ue),H.abrupt("return",(0,K.request)("/api/apps/v1/workflow/".concat(U),e()({method:"DELETE",params:e()({},W)},I||{})));case 2:case"end":return H.stop()}},L)})),we.apply(this,arguments)}function re(L,M,I){return se.apply(this,arguments)}function se(){return se=_asyncToGenerator(_regeneratorRuntime.mark(function L(M,I,U){var W,F;return _regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return W=M.uid,F=_objectWithoutProperties(M,he),V.abrupt("return",request("/api/apps/v1/workflow/".concat(W),_objectSpread({method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},params:_objectSpread({},F),data:I},U||{})));case 2:case"end":return V.stop()}},L)})),se.apply(this,arguments)}function Q(L,M){return _e.apply(this,arguments)}function _e(){return _e=r()(A().mark(function L(M,I){var U,W;return A().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return U=M.uid,W=g()(M,fe),H.abrupt("return",(0,K.request)("/api/apps/v1/workflow/".concat(U,"/dag"),e()({method:"GET",params:e()({},W)},I||{})));case 2:case"end":return H.stop()}},L)})),_e.apply(this,arguments)}function J(L,M,I){return E.apply(this,arguments)}function E(){return E=r()(A().mark(function L(M,I,U){var W,F;return A().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return W=M.uid,F=g()(M,ve),V.abrupt("return",(0,K.request)("/api/apps/v1/workflow/".concat(W,"/dag"),e()({method:"PUT",headers:{"Content-Type":"application/json"},params:e()({},F),data:I},U||{})));case 2:case"end":return V.stop()}},L)})),E.apply(this,arguments)}function f(L,M,I){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime.mark(function L(M,I,U){var W,F;return _regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return W=M.uid,F=_objectWithoutProperties(M,z),V.abrupt("return",request("/api/apps/v1/workflow/".concat(W,"/state"),_objectSpread({method:"PUT",headers:{"Content-Type":"application/json"},params:_objectSpread({},F),data:I},U||{})));case 2:case"end":return V.stop()}},L)})),T.apply(this,arguments)}function w(L,M){return S.apply(this,arguments)}function S(){return S=_asyncToGenerator(_regeneratorRuntime.mark(function L(M,I){var U,W;return _regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return U=M.uid,W=_objectWithoutProperties(M,Se),H.abrupt("return",request("/api/apps/v1/workflow/".concat(U,"/watch"),_objectSpread({method:"GET",params:_objectSpread({},W)},I||{})));case 2:case"end":return H.stop()}},L)})),S.apply(this,arguments)}function $(L){return O.apply(this,arguments)}function O(){return O=r()(A().mark(function L(M){return A().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,K.request)("/api/apps/v1/workflow/list",e()({method:"GET"},M||{})));case 1:case"end":return U.stop()}},L)})),O.apply(this,arguments)}function G(L){return Ce.apply(this,arguments)}function Ce(){return Ce=_asyncToGenerator(_regeneratorRuntime.mark(function L(M){return _regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",request("/api/apps/v1/workflow/watch",_objectSpread({method:"GET"},M||{})));case 1:case"end":return U.stop()}},L)})),Ce.apply(this,arguments)}}}]);
